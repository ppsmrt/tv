<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DEVA TV Player</title>

<!-- Plyr CSS -->
<link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />

<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background-color:#000;
    color:#fff;
    font-family:'Arial', sans-serif;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
  }

  .tv-container {
    position:relative;
    width:720px;
    height:405px;
    background-color:#000;
    overflow:hidden;
    border-radius:12px;
    box-shadow:0 0 40px rgba(242,45,45,0.6),0 0 80px rgba(242,45,45,0.3);
    border:4px solid #111;
  }

  video {
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:12px;
    filter:brightness(1.05) contrast(1.05);
  }

  .logo-container {
    position:absolute;
    top:10px;
    left:10px;
    display:flex;
    align-items:center;
    gap:5px;
    z-index:20;
  }
  .logo-img { width:42px; height:42px; background:url('https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Logo_Devanagari.svg/1200px-Logo_Devanagari.svg.png') no-repeat center; background-size:contain; filter:drop-shadow(0 0 2px yellow); }
  .logo-text { font-weight:bold; font-size:22px; color:#f22d2d; font-family:'Arial Black',Arial,sans-serif; -webkit-text-stroke:1px yellow; text-transform:uppercase; text-shadow:0 0 4px yellow,0 0 6px red; }

  .bottom-ticker-bar {
    position:absolute; bottom:40px; width:100%; background:rgba(0,0,0,0.4);
    height:24px; overflow:hidden; line-height:24px; border-top:1px solid #444; border-bottom:1px solid #444;
  }
  .marquee { display:inline-block; white-space:nowrap; padding-left:100%; animation:marquee 18s linear infinite; text-shadow:0 0 2px black,0 0 4px red; }
  @keyframes marquee { 0%{ transform:translateX(0%);} 100%{ transform:translateX(-100%);} }

  .bottom-info-bar {
    position:absolute; bottom:0; width:100%; height:40px; background:#b30000; display:flex; align-items:center; justify-content:space-between;
    padding:0 12px; font-weight:bold; letter-spacing:1px; box-shadow:0 -2px 6px rgba(0,0,0,0.5);
  }
  .bottom-info-bar .text-left { color:white; font-size:16px; font-weight:600; font-family:'Latha','Nirmala UI',Arial,sans-serif; text-shadow:0 0 2px black; }
  .bottom-info-bar .phone-number { color:yellow; font-size:24px; letter-spacing:2px; text-shadow:0 0 4px #000; }

  .bottom-image { position:absolute; bottom:40px; width:65px; height:40px; object-fit:cover; background:#000; z-index:15; border:1px solid #333; border-radius:4px; box-shadow:0 0 8px rgba(255,0,0,0.6); transition: transform 0.3s ease; }
  .bottom-image.left { left:5px; } .bottom-image.right { right:5px; }
  .bottom-image:hover { transform:scale(1.1); }

  .time-box { position:absolute; bottom:80px; right:10px; background:#e60000; color:#fff; font-weight:700; font-size:16px; padding:5px 10px; border-radius:4px; font-family:monospace; text-shadow:0 0 3px black; z-index:20; animation:pulse 1.5s infinite alternate; }
  @keyframes pulse { 0%{ box-shadow:0 0 5px #ff0000;} 100%{ box-shadow:0 0 15px #ff4500;} }

  .loader { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:white; font-size:18px; background:rgba(0,0,0,0.4); padding:8px 20px; border-radius:10px; z-index:30; display:none; }

  .center-play { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:70px; color:white; background:transparent; border-radius:50%; width:100px; height:100px; display:flex; align-items:center; justify-content:center; opacity:1; cursor:pointer; z-index:25; transition:opacity 0.4s ease-in-out, transform 0.3s ease; }
  .center-play.hide { opacity:0; transform:translate(-50%,-50%) scale(1.1); }

  .custom-controls { position:absolute; bottom:20px; left:50%; transform:translateX(-50%); width:90%; display:flex; justify-content:center; gap:15px; background:transparent; padding:10px 20px; border-radius:40px; opacity:0; transition:opacity 0.3s ease-in-out; z-index:25; }
  .custom-controls.show { opacity:1; }
  .custom-controls button { background:transparent; border:none; color:white; font-size:20px; cursor:pointer; transition:transform 0.2s; }
  .custom-controls button:hover { transform:scale(1.2); }

  .ad-bar { position:absolute; bottom:70px; width:100%; text-align:center; color:#fff; font-size:16px; font-weight:bold; z-index:15; opacity:0; transition:opacity 0.5s ease-in-out; }
  .ad-bar.show { opacity:1; }
</style>
</head>
<body>

<div class="tv-container">

  <video id="player" playsinline></video>
  <div class="loader" id="loader">Loading...</div>

  <div class="logo-container">
    <div class="logo-img"></div>
    <div class="logo-text">DEVA TV</div>
  </div>

  <div class="bottom-ticker-bar">
    <div class="marquee" id="ticker">Loading ticker...</div>
  </div>

  <div class="bottom-info-bar">
    <div class="text-left">வீடுகளுக்கு வந்து தையல் மிஷின் பழுதுபார்த்து தரப்படும்</div>
    <div class="phone-number">94431 82069</div>
  </div>

  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Singer_sewing_machine_99K.jpg/220px-Singer_sewing_machine_99K.jpg" class="bottom-image left" />
  <img src="https://cdn.pixabay.com/photo/2016/01/19/17/48/sewing-machine-1148419_1280.jpg" class="bottom-image right" />

  <div class="time-box" id="timeBox">03:02 AM</div>

  <div class="center-play" id="centerPlayBtn"><i class="fas fa-play"></i></div>

  <div class="custom-controls" id="customControls">
    <button id="playPause"><i class="fas fa-play"></i></button>
    <button id="volumeBtn"><i class="fas fa-volume-up"></i></button>
    <button id="fullscreenBtn"><i class="fas fa-expand"></i></button>
    <button id="orientationBtn"><i class="fas fa-sync-alt"></i></button>
  </div>

  <div class="ad-bar" id="adBar">Advertisement Text Here</div>

</div>

<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
<script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
<script>
const playerEl = document.getElementById('player');
const loader = document.getElementById('loader');
const tickerEl = document.getElementById('ticker');
const adBar = document.getElementById('adBar');
const controls = document.getElementById('customControls');
const playPauseBtn = document.getElementById('playPause').querySelector("i");
const centerPlayBtn = document.getElementById('centerPlayBtn');
const volumeBtn = document.getElementById('volumeBtn').querySelector("i");
const fullscreenBtn = document.getElementById('fullscreenBtn');
const orientationBtn = document.getElementById('orientationBtn');
const timeBox = document.getElementById('timeBox');

let playlist = [
  { title:"Video 1", url:"https://www.w3schools.com/html/mov_bbb.mp4" },
  { title:"Video 2", url:"https://www.w3schools.com/html/movie.mp4" }
];
let currentIndex = 0;
let lastAdTime = 0;

// Initialize Plyr
const player = new Plyr(playerEl, { controls: [] });

// --- Load Video ---
function loadVideo(index){
  const item = playlist[index];
  loader.style.display="block";
  player.source={ type:'video', sources:[{src:item.url,type:'video/mp4'}] };
  player.once('ready', ()=>{
    loader.style.display="none";
    player.muted=true;
    player.play().catch(()=>{});
    updateUI();
  });
  player.off('ended', nextVideo);
  player.on('ended', nextVideo);
  updateTicker(item.title);
}

function nextVideo(){
  currentIndex=(currentIndex+1)%playlist.length;
  loadVideo(currentIndex);
}

function updateUI(){
  playPauseBtn.className = player.playing ? "fas fa-pause" : "fas fa-play";
  centerPlayBtn.classList.toggle('hide', player.playing);
}

// Play/Pause
document.getElementById('playPause').addEventListener('click', ()=>{
  player.playing ? player.pause() : player.play();
  updateUI();
});
centerPlayBtn.addEventListener('click', ()=>{
  player.playing ? player.pause() : player.play();
  updateUI();
});

// Volume
document.getElementById('volumeBtn').addEventListener('click', ()=>{
  player.muted = !player.muted;
  volumeBtn.className = player.muted ? 'fas fa-volume-mute' : 'fas fa-volume-up';
});

// Fullscreen
fullscreenBtn.addEventListener('click', ()=> player.fullscreen.enter());

// Orientation toggle
orientationBtn.addEventListener('click', ()=>{
  if(screen.orientation && screen.orientation.lock){
    const type = screen.orientation.type.startsWith('landscape') ? 'portrait' : 'landscape';
    screen.orientation.lock(type).catch(()=>{});
  }
});

// Ticker
function updateTicker(title){
  const now = new Date();
  const timeStr = now.toLocaleTimeString();
  tickerEl.textContent=`Now Playing: ${title} - ${timeStr} | Enjoy your stream!`;
}

// Ad Scheduler (text only)
function showAd(){
  const ads = ["Big Sale Today!", "Subscribe for More!", "New Episode Incoming!"];
  const ad = ads[Math.floor(Math.random()*ads.length)];
  adBar.textContent = ad;
  adBar.classList.add('show');
  setTimeout(()=>adBar.classList.remove('show'),5000);
}
setInterval(()=>{ showAd(); },60000);

// Controls show/hide
let hideTimeout;
playerEl.addEventListener('click', ()=>{
  controls.classList.add('show');
  clearTimeout(hideTimeout);
  hideTimeout=setTimeout(()=>controls.classList.remove('show'),3000);
});

// Time update
setInterval(()=>{
  const now=new Date();
  const h=String(now.getHours()).padStart(2,'0');
  const m=String(now.getMinutes()).padStart(2,'0');
  const s=String(now.getSeconds()).padStart(2,'0');
  timeBox.textContent=`${h}:${m}:${s}`;
},1000);

// Init
loadVideo(currentIndex);

</script>
</body>
</html>
